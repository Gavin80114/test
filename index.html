<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Firebase 註冊與登入</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>註冊</h1>
<form id="signupForm">
  <label for="signupEmail">Email:</label>
  <input type="email" id="signupEmail" name="signupEmail" required><br>
  <label for="signupPassword">密碼:</label>
  <input type="password" id="signupPassword" name="signupPassword" required><br>
  <button type="button" onclick="signup()">註冊</button>
</form>

<h1>登入</h1>
<form id="loginForm">
  <label for="loginEmail">Email:</label>
  <input type="email" id="loginEmail" name="loginEmail" required><br>
  <label for="loginPassword">密碼:</label>
  <input type="password" id="loginPassword" name="loginPassword" required><br>
  <button type="button" onclick="login()">登入</button>
</form>

<p id="message"></p>

<!-- 引入 Firebase JavaScript SDK -->
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js"></script>
<script>
  // Firebase 初始化配置
  var firebaseConfig = {
      apiKey: "AIzaSyBZ0cidn0hbZQsokFZwu4uRDPksk9Ys9sk",
      authDomain: "test-addd1.firebaseapp.com",
      projectId: "test-addd1",
      storageBucket: "test-addd1.appspot.com",
      messagingSenderId: "308863996580",
      appId: "1:308863996580:web:9750cea4a0b5ba1c69cc31",
      measurementId: "G-DSZB9LFZ36"
    };

  // 初始化 Firebase
  firebase.initializeApp(firebaseConfig);

  // 註冊新用戶
  function signup() {
    var signupEmail = document.getElementById('signupEmail').value;
    var signupPassword = document.getElementById('signupPassword').value;
    
    firebase.auth().createUserWithEmailAndPassword(signupEmail, signupPassword)
      .then((userCredential) => {
        // 註冊成功
        var user = userCredential.user;
        document.getElementById('message').textContent = "註冊成功，用戶 ID: " + user.uid;
      })
      .catch((error) => {
        // 註冊失敗，顯示錯誤訊息
        var errorMessage = error.message;
        document.getElementById('message').textContent = "註冊失敗：" + errorMessage;
      });
  }

  // 登入現有用戶
  function login() {
    var loginEmail = document.getElementById('loginEmail').value;
    var loginPassword = document.getElementById('loginPassword').value;
    
    firebase.auth().signInWithEmailAndPassword(loginEmail, loginPassword)
      .then((userCredential) => {
        // 登入成功
        var user = userCredential.user;
        document.getElementById('message').textContent = "登入成功，用戶 ID: " + user.uid;
      })
      .catch((error) => {
        // 登入失敗，顯示錯誤訊息
        var errorMessage = error.message;
        document.getElementById('message').textContent = "登入失敗：" + errorMessage;
      });
  }
</script>
</body>
</html>
